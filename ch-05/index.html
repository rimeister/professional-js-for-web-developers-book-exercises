<!DOCTYPE html>
<html>
<head>
	<title>Chapter 5: Reference Types</title>
	<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<link rel="stylesheet" href="../styles.css">
	<meta charset="utf-8">
</head>
<body>

<div class="container">

	<div class="row">

		<div class="col-sm-8">
			<h1>Chapter 5: Reference Types</h1>
			<div>
				<h2>What is a reference type?</h2>				
				<p>In Javascript, an object is an instance of a particular reference type. For example, it could be an instance of the <em>Array</em> type, the <em>Function</em> type, the <em>RexExp</em> type, the <em>Date</em> type, or the <em>Math</em> type. Examples of "Primitive Wrapper" types include the <em>Boolean</em> type, the <em>String</em> type, and the the <em>Number</em> type. Different reference types &ndash; which I supposed could also be referred to as different <em>class types</em>, if you consider reference types to be classes &ndash; have different properties and methods available to them. For instance, the Math object has methods on it for manipulating numbers, such as <em>Math.round();</em>, which will return a rounded number.</p>

				<p>All objects are considered instances of the <em>Object</em> reference type, so running (instanceName instanceof Object) will evaluate to true.</p><br>


				<h4>Code</h4>
				<code>
					&lt;script type="text/javascript"&gt;<br><br>
					&nbsp;&nbsp;&nbsp;&nbsp;var instanceName = new Array();<br><br>
					&nbsp;&nbsp;&nbsp;&nbsp;alert(instanceName instanceof Array); // True <br>
					&nbsp;&nbsp;&nbsp;&nbsp;alert(instanceName instanceof Function); // False <br>
					&nbsp;&nbsp;&nbsp;&nbsp;alert(instanceName instanceof Object); // True <br>
					&nbsp;&nbsp;&nbsp;&nbsp;<br>
					&lt;/script&gt;<br>
				</code><br><br>

				<h4>Working Example:</h4>
				<script type="text/javascript">
					var instanceName = new Array();
				</script>

				<a href="#" onClick="event.preventDefault();alert(instanceName instanceof Array);">Click here to see what if <em>instanceName</em> is an instance of the <em>Array</em> reference type.</a><br>
				<a href="#" onClick="event.preventDefault();alert(instanceName instanceof Function);">Click here to see what if <em>instanceName</em> is an instance of the <em>Function</em> reference type.</a><br>
				<a href="#" onClick="event.preventDefault();alert(instanceName instanceof Object)">Click here to see what if <em>instanceName</em> is an instance of the <em>Object</em> reference type.</a>
			</div>
			<br>
			<div>
				<h2>The Object Type</h2>
				<p>The <em>Object</em> type doesn't have much functionality, but it's useful for transmitting and storing data in an application. They can be instantiated using <em>var varName = new Object();</em>, or by declaring an object literal, like this: <em>var varName = {name: "Riley", age: 30};</em></p><br>
				<h4>Code</h4>
				<code>
					&lt;script type="text/javascript"&gt;<br><br>
						&nbsp;&nbsp;&nbsp;&nbsp;var object1 = new Object(); <br>
						&nbsp;&nbsp;&nbsp;&nbsp;object1.name = "obj1"; <br><br>
						&nbsp;&nbsp;&nbsp;&nbsp;var object2 = { <br>
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; name: "obj2" <br>
						&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>
						&nbsp;&nbsp;&nbsp;&nbsp;alert(object1.name);<br>
						&nbsp;&nbsp;&nbsp;&nbsp;alert(object2.name);<br><br>
					&lt;/script&gt;<br>
				</code><br><br>

				<h4>Working Example:</h4>
				<script type="text/javascript">
					var object1 = new Object(); 
					object1.name = "obj1"; 
					var object2 = { 
					 name: "obj2"
					}						
				</script>
				<a href="#" onClick="event.preventDefault();alert(object1.name);"> Click here to see what the name property value of <em>object1</em> is.</a><br>
				<a href="#" onClick="event.preventDefault();alert(object2.name);"> Click here to see what the name property value of <em>object2</em> is.</a>
			</div><br>
			<div>
				<h2>The Array Type</h2>
				<p>Probably the second-most used reference type after Object. Unlike other languages, it can contain mixed data types in JS. Length property can be accessed by using <em>.length</em>, but can also be set this way, it just adds more undefined items to the array. You can also shorten it by setting a length shorter than the array length.</p>
				<p>The Array type has methods for adding to and removing from the arry, such as .push(), .pop(), .shift(), slice(), and methods for sorting the array, like .sort() and .reverse(). The book says the most powerful array method is .splice(), which can add items to the middle of the array. Like the String type, it has the .indexOf() and .lastIndexOf methods.</p>
				<p>Perhaps, as Simon from the Lynda course said, one doesn't need to memorize these methods, but just have a good reference that lists them, to refer to when needed. <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">This page from the Mozilla Javascript reference has all the methods available for an array object</a>. There are, indeed, lots of them.</p>
				<p>The book says that ES5 includes five iterative methods for arrays: every(), filter(), forEach(), map(), and some().</p>
				<br>
				<h4>Code</h4>
				<code>
					&lt;script type="text/javascript"&gt;<br><br>
						var fruits = ['Apple', 'Banana'];<br>
					var fruits = ['Banana','Apple']; // Create array using object literal notation<br>
					console.log(fruits);<br>
					<br>
					fruits.push('Orange'); // Push an orange onto the end of the array<br>
					console.log(fruits);<br>
					<br>
					fruits.length = 4; // Adds an undefined item to the end of the array<br>
					console.log(fruits);<br>
					<br>
					fruits[3] = "Pear"; // Put "Pear" in index position 3<br>
					console.log(fruits);<br>
					<br>
					fruits.sort(); // Sorts array according to unicode index of first letter of the string<br>
					console.log(fruits);<br>
					<br>
					console.log("The item \"Orange\" is at index position " + fruits.indexOf("Orange"));<br>
					<br>
					var itemsWithP = fruits.filter(function(item,index,array){<br>
						<br>
						return ( item.toString().toLowerCase().indexOf("p") > -1 ); // Filter items have have a letter P in them<br>
					});<br>
					<br>
					console.log(itemsWithP);<br>
					<br>
					var areAllItemsLengthGreaterThanFour = fruits.every(function(item,index,array){<br>
						return (item.length > 4);<br>
					});<br>
					<br>
					if (areAllItemsLengthGreaterThanFour) {<br>
						console.log("All items have more than four characters");<br>
					} else {<br>
						console.log("Some items have less than four characters");<br>
					}<br>
					<br>
					var areAllItemsLengthGreaterThanThree = fruits.every(function(item,index,array){<br>
						return (item.length > 3);<br>
					});<br>
					<br>
					if (areAllItemsLengthGreaterThanThree) {<br>
						console.log("All items have more than three characters");<br>
					} else {<br>
						console.log("Some items have less than three characters");<br>
					}<br>
					// Reduction methods for iterating some values in an array and building a new value from them (such as adding or subtracting them). Also has reduceRight(), which starts at the other end.<br><br>
					var values = [2,4,5,1,2,4];<br>
					var sum = values.reduce(function(prev,cur,index,array){<br>
						return prev + cur;<br>
					});<br>
					console.log("The sum of these values is " + sum);<br>
					&lt;/script&gt;<br>
				</code><br><br>

				<h4>Working Example:</h4>
				<script type="text/javascript">
					// Example code here
					var fruits = ['Banana','Apple']; // Create array using object literal notation
					console.log(fruits);

					fruits.push('Orange'); // Push an orange onto the end of the array
					console.log(fruits);

					fruits.length = 4; // Adds an undefined item to the end of the array
					console.log(fruits);

					fruits[3] = "Pear"; // Put "Pear" in index position 3
					console.log(fruits);

					fruits.sort(); // Sorts array according to unicode index of first letter of the string
					console.log(fruits);

					console.log("The item \"Orange\" is at index position " + fruits.indexOf("Orange"));

					var itemsWithP = fruits.filter(function(item,index,array){
						
						return ( item.toString().toLowerCase().indexOf("p") > -1 ); // Filter items have have a letter P in them
					});

					console.log(itemsWithP);

					var areAllItemsLengthGreaterThanFour = fruits.every(function(item,index,array){
						return (item.length > 4);
					});

					if (areAllItemsLengthGreaterThanFour) {
						console.log("All items have more than four characters");
					} else {
						console.log("Some items have less than four characters");
					}

					var areAllItemsLengthGreaterThanThree = fruits.every(function(item,index,array){
						return (item.length > 3);
					});

					if (areAllItemsLengthGreaterThanThree) {
						console.log("All items have more than three characters");
					} else {
						console.log("Some items have less than three characters");
					}

					// Reduction methods for iterating some values in an array and building a new value from them (such as adding or subtracting them). Also has reduceRight(), which starts at the other end.
					var values = [2,4,5,1,2,4];
					var sum = values.reduce(function(prev,cur,index,array){
						return prev + cur;
					});
					console.log("The sum of these values is " + sum);


				</script>
				<p>Look in the console to see the example working.</p>
				</div>
				<br>
				<div>
					<h2>The Date Object</h2>
					<p>Instantiating a date object creates a reference with the current date and time. You can also create a Date object and pass in a specific date, using Date.parse(), or using the numeric format.</p>
					<h4>Code</h4>
					<code>
						&lt;script type="text/javascript"&gt;<br><br>
							var now = new Date();<br>
							var then = new Date(Date.parse("May 24, 2017"));<br>
							var y2k = new Date(2000,0);<br>
							<br>
							// Log the dates<br>
							console.log(now); // Date 2017-12-15T16:42:33.011Z<br>
							console.log(then); // Date 2017-05-24T04:00:00.000Z<br>
							console.log(y2k); // Date 2000-01-01T05:00:00.000Z<br>
						&lt;/script&gt;<br>
					</code><br><br>

					<h4>Working Example:</h4>
					<script type="text/javascript">

						// Function I found online for converting milliseconds to hours, minutes, etc.
						function msToTYears(duration) {
						    var years = duration/31536000000;
						    years = Math.round(years * 100) / 100;
						    return years;
						}

						var now = new Date();
						var then = new Date(Date.parse("May 24, 2017"));
						var y2k = new Date(2000,0);

						//var timeSinceY2k = now - y2k;

						// Log the dates
						console.log(now);
						console.log(then);
						console.log(y2k);
						var timeSinceY2k = msToTYears(now - y2k);
						console.log("It has been " + timeSinceY2k + " years since Y2K.");

					</script>
					<p>Look in the console to see the example working.</p>
				</div>
				<br>
				<div>
					<h2>The RegExp Object</h2>
					<p>A RegExp object contains a regular expression. The primary method you use with it (which is apparently innherited through the prototype chain) is <em>exec()</em>, but you can also use <em>test()</em>.</p>
					<h4>Code</h4>
					<code>
						&lt;script type="text/javascript"&gt;<br><br>

						&lt;/script&gt;<br>
					</code><br><br>

					<h4>Working Example:</h4>
					<script type="text/javascript">

						var phrase = "Test this expression";
						var pattern1 = /press/;
						var pattern2 = new RegExp("spa");

						console.log("Is pattern1 (\"" + pattern1.source + "\") in the phrase \"" + phrase + "\"? " + pattern1.test(phrase));
						console.log("Is pattern2 (\"" + pattern2.source + "\") in the phrase \"" + phrase + "\"? " + pattern2.test(phrase));

					</script>
					<p>Look in the console to see the example working.</p>
				</div>

			<br>
			<br>
		</div>
	</div>

</body>
</html>